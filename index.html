<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quietly Key Gen</title>
    <style>
        html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Arial', sans-serif;
    background-color: #1f2636;
    background: url('icon.png') no-repeat center center fixed;
    background-size: cover;
}

body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
    box-sizing: border-box;
}

.container {
    background: rgba(43, 43, 56, 0.9); /* Увеличенная прозрачность */
    border-radius: 16px;
    box-shadow: 5px 5px 10px #1a1a23, -5px -5px 10px #30303b;
    padding: 20px;
    width: 90%; /* Увеличенная ширина для мобильных */
    max-width: 600px; /* Увеличенная ширина для десктопов */
    text-align: center;
    box-sizing: border-box;
}

.header {
    font-family: 'Comic Sans MS', cursive, sans-serif;
    font-size: 20px; /* Уменьшенный размер шрифта для заголовка */
    color: #ffffff;
    margin-bottom: 20px;
}

.progress-container {
    width: 100%;
    max-width: 100%; /* Уменьшена ширина для мобильных */
    margin-bottom: 20px;
    position: relative;
}

.progress-bar {
    height: 15px; /* Уменьшенная высота полосы прогресса */
    background-color: #ff8c00;
    border-radius: 4px;
    transition: width 0.3s;
}

.progress-text {
    margin-top: 5px; /* Уменьшенное расстояние под полосой прогресса */
    font-weight: bold;
    color: #ffffff;
}

.game-buttons {
    display: flex;
    flex-wrap: wrap; /* Разрешаем перенос кнопок */
    justify-content: center;
    width: 100%;
    margin-bottom: 20px;
}

.game-button {
    background: #37374a;
    border: none;
    border-radius: 8px;
    color: #ffffff;
    font-size: 14px; /* Уменьшенный размер шрифта для кнопок */
    padding: 10px 15px; /* Уменьшенные отступы */
    margin: 5px; /* Уменьшенное расстояние между кнопками */
    cursor: pointer;
    transition: background-color 0.3s;
    flex: 1 1 45%; /* Пропорциональный размер для кнопок */
    box-sizing: border-box;
}

.game-button.selected {
    background-color: #005a56;
}

.game-button:hover {
    background-color: #005a56;
}

.button {
    width: 100%;
    padding: 10px; /* Уменьшенный отступ */
    margin-top: 20px;
    border: none;
    border-radius: 8px;
    background-color: #008075;
    color: #ffffff;
    font-size: 14px; /* Уменьшенный размер шрифта */
    transition: background-color 0.3s;
}

.button:hover {
    background-color: #005a56;
}

.key-container {
    margin-top: 20px;
    width: 100%;
}

.key-item {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
    background-color: #37374a;
    padding: 10px;
    border-radius: 8px;
    box-sizing: border-box;
}

.key-item input {
    flex-grow: 1;
    margin: 8px;
    outline: none;
    background: transparent;
    color: #ffffff;
    font-size: 14px; /* Уменьшенный размер шрифта */
    overflow: hidden;
    text-overflow: ellipsis;
}

.copyKeyBtn {
    background-color: #008075;
    color: white;
    border: none;
    padding: 8px; /* Уменьшенный отступ */
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px; /* Уменьшенный размер шрифта */
    margin-left: 5px;
    transition: background-color 0.3s;
}

.copyKeyBtn:hover {
    background-color: #005e56;
}

.hidden {
    display: none;
}

.footer-buttons {
    display: flex;
    justify-content: center;
    width: 100%;
    margin-top: 20px;
    flex-wrap: wrap; /* Разрешаем перенос кнопок */
}

.footer-button {
    background-color: #008075;
    color: white;
    border: none;
    padding: 10px; /* Уменьшенный отступ */
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px; /* Уменьшенный размер шрифта */
    margin: 5px; /* Уменьшенное расстояние между кнопками */
    transition: background-color 0.3s;
}

.footer-button:hover {
    background-color: #005a56;
}

.button-container {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap; /* Разрешаем перенос кнопок */
}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">TIGRAYTECHC</div>
        <div class="header">Hamster Key Generator</div>
        <div class="game-buttons">
            <button class="game-button" data-game="1">Riding Extreme 3D</button>
            <button class="game-button" data-game="2">Chain Cube 2048</button>
            <button class="game-button" data-game="3">My Clone Army</button>
            <button class="game-button" data-game="4">Train Miner</button>
            <button class="game-button" data-game="5">Merge Away</button>
            <button class="game-button" data-game="6">Twerk Race</button>
        </div>
        <div class="button-container">
            <button id="startBtn" class="button">Get Keys</button>
            <button id="copyAllBtn" class="button hidden">Copy All Keys</button>
        </div>
        <div id="keyContainer" class="key-container hidden">
            <div id="keysList"></div>
        </div>
        <div class="progress-container hidden">
            <div id="progressBar" class="progress-bar"></div>
            <span id="progressText" class="progress-text">0%</span>
        </div>
    </div>
    <div class="footer-buttons">
        <a href="https://t.me/tigraytechc" target="_blank">
            <button class="footer-button">Channel</button>
        </a>
        <a href="https://t.me/medhanye7" target="_blank">
            <button class="footer-button">Admin</button>
        </a>
    </div>
    <script>
        const games = {
            //... (Your games object remains unchanged)
        };

        let currentGameNumber = 3; // Default game

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll(".game-button").forEach(button => {
                button.addEventListener("click", (e) => {
                    document.querySelectorAll(".game-button").forEach(btn => btn.classList.remove("selected"));
                    e.target.classList.add("selected");
                    currentGameNumber = parseInt(e.target.getAttribute('data-game'));
                });
            });

            document.getElementById('startBtn').addEventListener('click', async () => {
                const startBtn = document.getElementById('startBtn');
                const keyContainer = document.getElementById('keyContainer');
                const progressBar = document.getElementById('progressBar');
                const progressText = document.getElementById('progressText');
                const keysList = document.getElementById('keysList');
                const copyAllBtn = document.getElementById('copyAllBtn');

                startBtn.disabled = true;
                keyContainer.classList.remove('hidden');
                progressBar.parentElement.classList.remove('hidden');
                keysList.innerHTML = '';
                copyAllBtn.classList.add('hidden');

                const generateClientId = () => {
                    // ... (Your generateClientId function remains unchanged)
                };

                const loginClient = async (gameNumber) => {
                    // ... (Your loginClient function remains unchanged)
                };

                const registerEvent = async (token, gameNumber) => {
                    // ... (Your registerEvent function remains unchanged)
                };

                const createCode = async (token, gameNumber) => {
                    // ... (Your createCode function remains unchanged)
                };

                const generateRandomUUID = () => {
                    // ... (Your generateRandomUUID function remains unchanged)
                };

                const endGenerateTime = Date.now() + 4 * 40 * 1000;
                const updateProgress = () => {
                    // ... (Your updateProgress function remains unchanged)
                };
                const progressInterval = setInterval(updateProgress, 1000);

                const tasks = [];
                let allKeys = ''; // To store all keys for the file

                for (let i = 0; i < 4; i++) {
                    tasks.push((async (index) => {
                        try {
                            let token = await loginClient(currentGameNumber);
                            let registerToken = await registerEvent(token, currentGameNumber);
                            const promoCode = await createCode(registerToken, currentGameNumber);
                            allKeys += `${promoCode}\n`; // Add key to the file content
                            const keyDiv = document.createElement('div');
                            keyDiv.classList.add('key-item');
                            keyDiv.innerHTML = `
                                <input type="text" value="${promoCode}" readonly />
                                <button class="copyKeyBtn" data-clipboard-text="${promoCode}">Copy</button>
                            `;
                            keysList.appendChild(keyDiv);
                        } catch (error) {
                            console.error('Error:', error.message);
                        }
                    })(i));
                }
                await Promise.all(tasks);

                // Automatically download the file after generating all keys
                const blob = new Blob([allKeys], { type: 'text/plain' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `generated_keys_${new Date().toISOString().slice(0, 10)}.txt`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);

                copyAllBtn.classList.remove('hidden');
                startBtn.disabled = false;
                progressBar.parentElement.classList.add('hidden');

                document.querySelectorAll('.copyKeyBtn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const input = e.target.previousElementSibling;
                        input.select();
                        document.execCommand('copy');
                    });
                });

                copyAllBtn.addEventListener('click', () => {
                    const allKeys = [...document.querySelectorAll('.key-item input')].map(input => input.value).join('\n');
                    navigator.clipboard.writeText(allKeys);
                });
            });
        });
    </script>
</body>

  </html>
